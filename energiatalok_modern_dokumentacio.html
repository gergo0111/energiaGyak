<!DOCTYPE html>
<html lang="hu">
<head>
  <style>
    /* Loader countdown slide-up and scale animation */
    .slideup {
      display: inline-block;
      animation: slideUpAnim 0.5s cubic-bezier(.68,-0.55,.27,1.55);
      backface-visibility: hidden;
    }
    @keyframes slideUpAnim {
      0% { transform: translateY(40px) scale(0.7); opacity: 0.2; }
      60% { transform: translateY(-10px) scale(1.25); opacity: 1; }
      80% { transform: translateY(0px) scale(1.1); opacity: 1; }
      100% { transform: translateY(0px) scale(1); opacity: 1; }
    }
  </style>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Energiaital API - Modern Dokumentáció</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="energiatalok_modern_dokumentacio.css">
</head>
<body>
  <div id="mode-loader" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9998;align-items:center;justify-content:center;background:rgba(0,0,0,0.12);transition:opacity 0.5s;">
    <div style="width:100vw;position:absolute;bottom:0;left:0;">
      <svg viewBox="0 0 1440 320" style="width:100vw;max-width:100vw;display:block;"><path fill="#fda085" fill-opacity="1" d="M0,160L48,170.7C96,181,192,203,288,197.3C384,192,480,160,576,154.7C672,149,768,171,864,186.7C960,203,1056,213,1152,197.3C1248,181,1344,139,1392,117.3L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>
    </div>
    <div style="position:relative;z-index:2;text-align:center;">
      <div class="spinner-border text-warning" style="width:3rem;height:3rem;" role="status"></div>
      <h2 style="color:#fff;text-shadow:0 2px 8px #fda08588;margin-top:18px;letter-spacing:2px;">Színmód váltás...</h2>
    </div>
  </div>
  <div id="checkmark-overlay" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:10000;align-items:center;justify-content:center;background:rgba(24,24,24,0.55);backdrop-filter:blur(8px);">
    <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;">
      <span style="font-size:8rem;color:#43ea5e;text-shadow:0 2px 24px #43ea5e88;display:block;">✔️</span>
      <div style="margin-top:24px;font-size:2.2rem;color:#fff;font-weight:700;text-shadow:0 2px 16px #222;letter-spacing:1px;">Betöltés kész!</div>
    </div>
  </div>
  </div>
  <div id="loader" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;background:linear-gradient(120deg,#f6d365 0%,#fda085 100%);display:flex;align-items:center;justify-content:center;transition:opacity 0.7s;">
    <div style="text-align:center;">
      <div class="spinner-border text-warning" style="width:5rem;height:5rem;" role="status"></div>
      <h2 style="color:#fff;text-align:center;margin-top:24px;letter-spacing:2px;text-shadow:0 2px 8px #fda08588;">Energiaital API</h2>
      <div class="progress mt-4" style="height: 18px; width: 320px; margin: 0 auto; background:rgba(255,255,255,0.25);">
        <div id="loader-progress" class="progress-bar progress-bar-striped progress-bar-animated bg-warning" role="progressbar" style="width:0%;font-weight:600;font-size:1.1rem;color:#222;position:relative;">
          <span id="progress-text" style="position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-weight:600;font-size:1.1rem;color:#222;">0%</span>
        </div>
      </div>
      <div id="time-left" style="margin-top:14px;color:#fff;font-size:1.15rem;font-weight:600;text-shadow:0 1px 8px #fda08588;letter-spacing:0.5px;">
        <span id="loader-main-msg" style="color:#ffe082;background:rgba(0,0,0,0.08);padding:2px 18px;border-radius:12px;font-size:2.1rem;font-weight:700;display:inline-block;">Türelem, mindjárt kész!</span>
        <div id="time-anim" style="margin-top:10px;font-size:1.35rem;font-weight:600;">
          <span id="sec-left" style="display:inline-block;transition:transform 0.25s cubic-bezier(.68,-0.55,.27,1.55);">4.0</span> másodperc van hátra
        </div>
      </div>
    </div>
  </div>
  <div class="container py-4" id="main-container" style="opacity:0;transition:opacity 0.7s;">
    <div class="d-flex justify-content-between align-items-center mb-4 flex-wrap">
      <h1 class="mb-0">Energiaitalok REST API</h1>
      <div class="mt-3 mt-md-0" style="padding-top: 12px;">
         <button class="btn btn-outline-dark me-2" onclick="setMode('white')">Fehér mód</button>
         <button class="btn btn-outline-secondary me-2" onclick="setMode('dark')">Sötét mód</button>
         <button class="btn btn-warning me-2" onclick="setMode('gradient')">Színátmenet</button>
      </div>
    </div>
    <div class="note mb-4">
      <strong>Alap URL:</strong> <code>http://localhost:3000</code><br>
      <strong>Adatbázis:</strong> <code>energiaGyak</code> &mdash; <strong>Tábla:</strong> <code>energy_drinks</code>
    </div>

    <h2>Végpontok</h2>
    <div class="d-flex flex-column gap-4">
      <div class="endpoint card shadow-sm">
        <div class="card-body">
          <span class="method">POST</span> <code>/energy-drinks</code><br>
          <em>Új energiaital hozzáadása</em>
          <pre>{
  "name": "Monster Ultra",
  "brand": "Monster",
  "caffeine": 150,
  "sugar_free": true
}</pre>
          <span class="status status-201">201 Created</span>
          <pre>{
  "message": "Energiaital sikeresen hozzáadva",
  "drinkId": 17
}</pre>
          <span class="status status-400">400 Bad Request</span> vagy <span class="status status-500">500 Internal Server Error</span>
        </div>
      </div>
      <div class="endpoint card shadow-sm">
        <div class="card-body">
          <span class="method">GET</span> <code>/energy-drinks/:id</code><br>
          <em>Egy energiaital lekérése azonosító alapján</em>
          <span class="status status-200">200 OK</span>
          <pre>{ "id": 1, "name": "Red Bull", ... }</pre>
          <span class="status status-404">404 Not Found</span> vagy <span class="status status-500">500 Internal Server Error</span>
        </div>
      </div>
      <div class="alert alert-danger mt-3">
  <strong>POST /energy-drinks hibák:</strong>
  <ul>
    <li><b>400 Bad Request</b> – Hiányzó vagy hibás mezők:
      <pre>{
  "errors": [
    { "name": "A 'name' mező megadása kötelező." },
    { "caffeine": "A 'caffeine' mezőnek szám típusúnak kell lennie." }
  ]
}</pre>
    </li>
    <li><b>500 Internal Server Error</b> – Szerverhiba:
      <pre>{ "error": "Szerverhiba történt az energiaital mentése közben" }</pre>
    </li>
  </ul>
</div>
      <div class="endpoint card shadow-sm">
        <div class="card-body">
          <span class="method">GET</span> <code>/energy-drinks</code><br>
          <em>Az összes energiaital lekérése</em>
          <span class="status status-200">200 OK</span>
          <pre>[{ "id": 1, "name": "Red Bull", ... }]</pre>
          <span class="status status-500">500 Internal Server Error</span>
        </div>
      </div>
      <div class="alert alert-danger mt-3">
  <strong>GET /energy-drinks hibák:</strong>
  <ul>
    <li><b>500 Internal Server Error</b> – Szerverhiba:
      <pre>{ "error": "Szerverhiba történt az energiaitalok lekérdezése közben" }</pre>
    </li>
  </ul>
</div>
      <div class="endpoint card shadow-sm">
        <div class="card-body">
          <span class="method">DELETE</span> <code>/energy-drinks/:id</code><br>
          <em>Energiaital törlése azonosító alapján</em>
          <span class="status status-200">200 OK</span>
          <pre>{ "message": "Energiaital sikeresen törölve" }</pre>
          <span class="status status-404">404 Not Found</span> vagy <span class="status status-500">500 Internal Server Error</span>
        </div>
      </div>
      <div class="alert alert-danger mt-3">
  <strong>DELETE /energy-drinks/:id hibák:</strong>
  <ul>
    <li><b>404 Not Found</b> – Nem létező energiaital:
      <pre>{ "error": "Energiaital nem található." }</pre>
    </li>
    <li><b>500 Internal Server Error</b> – Szerverhiba:
      <pre>{ "error": "Szerverhiba történt az energiaital törlése közben" }</pre>
    </li>
  </ul>
</div>
      <div class="endpoint card shadow-sm">
        <div class="card-body">
          <span class="method">PUT</span> <code>/energy-drinks/:id</code><br>
          <em>Energiaital módosítása</em>
          <pre>{
  "name": "Monster Ultra Gold",
  "brand": "Monster",
  "caffeine": 160,
  "sugar_free": true
}</pre>
          <span class="status status-200">200 OK</span>
          <pre>{ "message": "Energiaital sikeresen frissítve" }</pre>
          <span class="status status-400">400 Bad Request</span>, <span class="status status-404">404 Not Found</span> vagy <span class="status status-500">500 Internal Server Error</span>
        </div>
      </div>
    </div>
    <div class="alert alert-danger mt-3">
  <strong>PUT /energy-drinks/:id hibák:</strong>
  <ul>
    <li><b>400 Bad Request</b> – Hiányzó vagy hibás mezők:
      <pre>{ "error": "Hiányzó vagy hibás mezők" }</pre>
    </li>
    <li><b>404 Not Found</b> – Nem létező energiaital:
      <pre>{ "error": "Energiaital nem található." }</pre>
    </li>
    <li><b>500 Internal Server Error</b> – Szerverhiba:
      <pre>{ "error": "Szerverhiba történt az energiaital módosítása közben" }</pre>
    </li>
  </ul>
</div>

    <h2>Technikai részletek</h2>
    <ul class="list-group mb-4">
      <li class="list-group-item">Express.js backend, MySQL adatbázis</li>
      <li class="list-group-item">Minden végpont JSON választ ad vissza</li>
      <li class="list-group-item">Validáció, hibakezelés, státuszkódok</li>
      <li class="list-group-item"><code>created_at</code> és <code>updated_at</code> automatikusan frissül</li>
      <li class="list-group-item"><code>sugar_free</code> alapértelmezetten <code>false</code></li>
    </ul>

    <h2>Státuszkódok</h2>
    <ul class="list-unstyled" style="padding-bottom: 24px;">
      <li class="mb-2"><span class="status status-200">200 OK</span> - Sikeres lekérés, törlés, módosítás</li>
      <li class="mb-2"><span class="status status-201">201 Created</span> - Sikeres létrehozás</li>
      <li class="mb-2"><span class="status status-400">400 Bad Request</span> - Hibás vagy hiányzó adatok</li>
      <li class="mb-2"><span class="status status-404">404 Not Found</span> - Nem található</li>
      <li class="mb-2"><span class="status status-500">500 Internal Server Error</span> - Szerverhiba</li>
    </ul>

    <h2>Hibakezelés és válaszok</h2>
<div class="card mb-4">
  <div class="card-body">
    <p>A végpontok minden hibás vagy hiányos kérésre részletes hibaválaszt adnak vissza. A leggyakoribb hibák:</p>
    <ul>
      <li><strong>400 Bad Request</strong> – Hiányzó vagy hibás mezők, például:</li>
    </ul>
    <pre>{
  "errors": [
    { "name": "A 'name' mező megadása kötelező." },
    { "caffeine": "A 'caffeine' mezőnek szám típusúnak kell lennie." }
  ]
}</pre>
    <ul>
      <li><strong>404 Not Found</strong> – Nem létező energiaital módosítása vagy törlése esetén:</li>
    </ul>
    <pre>{ "error": "Energiaital nem található." }</pre>
    <ul>
      <li><strong>500 Internal Server Error</strong> – Adatbázis vagy szerverhiba esetén:</li>
    </ul>
    <pre>{ "error": "Szerverhiba történt az energiaital mentése/módosítása/törlése közben" }</pre>
    <p><strong>PUT</strong> és <strong>POST</strong> végpontoknál a validáció minden mezőre kiterjed, a válaszban pontosan megkapod, melyik mezővel van gond. A <strong>DELETE</strong> és <strong>PUT</strong> végpontoknál, ha az adott <code>id</code> nem létezik, 404-es hibát kapsz.</p>
    <p>Minden hiba JSON formátumban érkezik, így könnyen feldolgozható frontend vagy API kliens számára.</p>
  </div>
</div>

    <div class="footer">
      &copy; 2025 Energiaital API &mdash; Modern dokumentáció | Készítette: Gergő
    </div>
  </div>
  <script>
    // Demo dictionary for static translation
    const huZhDict = {
      'Energiaitalok REST API': '能量饮料 REST API',
      'Fehér mód': '白色模式',
      'Sötét mód': '黑暗模式',
      'Színátmenet': '渐变模式',
      'Fordítás kínaira': '翻译成中文',
      'Alap URL:': '基本网址:',
      'Adatbázis:': '数据库:',
      'Tábla:': '表:',
      'Végpontok': '端点',
      'Új energiaital hozzáadása': '添加新的能量饮料',
      'Egy energiaital lekérése azonosító alapján': '根据ID获取能量饮料',
      'Az összes energiaital lekérése': '获取所有能量饮料',
      'Energiaital törlése azonosító alapján': '根据ID删除能量饮料',
      'Energiaital módosítása': '修改能量饮料',
      'Technikai részletek': '技术细节',
      'Express.js backend, MySQL adatbázis': 'Express.js 后端, MySQL 数据库',
      'Minden végpont JSON választ ad vissza': '所有端点返回 JSON 响应',
      'Validáció, hibakezelés, státuszkódok': '验证、错误处理、状态码',
      'Státuszkódok': '状态码',
      'Hibakezelés és válaszok': '错误处理和响应',
      'Betöltés kész!': '加载完成！',
      'Türelem, mindjárt kész!': '请稍候，马上完成！',
      'Már csak': '还剩',
      'másodperc van hátra': '秒剩余',
      'Kész vagyunk!': '我们完成了！',
      'Az oldal betöltődött, jó böngészést!': '页面已加载，祝您浏览愉快！',
      // ...add more as needed
    };

    function translateToChinese() {
      // Only translate content text, skip buttons and controls
      const tags = ['h1','h2','h3','h4','h5','h6','p','li','strong','em','label','div','span'];
      tags.forEach(tag => {
        document.querySelectorAll(tag).forEach(el => {
          // Skip if inside a button or is a button
          if (el.closest('button') || el.tagName.toLowerCase() === 'button') return;
          // Only replace if exact match in dict
          const txt = el.textContent.trim();
          if (huZhDict[txt]) {
            // Only replace textContent, preserve HTML structure and styles
            el.textContent = huZhDict[txt];
          } else {
            // Try partial replacements for phrases, but preserve HTML
            let replaced = txt;
            Object.keys(huZhDict).forEach(hu => {
              if (replaced.includes(hu)) {
                replaced = replaced.replace(hu, huZhDict[hu]);
              }
            });
            el.textContent = replaced;
          }
        });
      });
    }
    // Loader
    window.addEventListener('DOMContentLoaded', function() {
      let progress = 0;
      const loader = document.getElementById('loader');
      const mainContainer = document.getElementById('main-container');
      const duration = 4000;
      const interval = 40;
      const step = 100 / (duration / interval);
      const progressText = document.getElementById('progress-text');
      const progressBar = document.getElementById('loader-progress');
      const timeLeft = document.getElementById('time-left');
      const secLeft = document.getElementById('sec-left');
      let elapsed = 0;
      let lastPulseSec = null;
      const timer = setInterval(function() {
        progress += step;
        if (progress > 100) progress = 100;
        progressBar.style.width = progress + '%';
        progressText.textContent = Math.round(progress) + '%';
        elapsed += interval;
        let left = Math.max(0, duration - elapsed);
        if (secLeft) {
          // Only show whole seconds, counting down
          const secInt = Math.ceil(left/1000);
          if (lastPulseSec !== secInt) {
            secLeft.classList.remove('slideup');
            void secLeft.offsetWidth;
            secLeft.classList.add('slideup');
            secLeft.textContent = secInt > 0 ? secInt : 1;
            lastPulseSec = secInt;
          }
        }
      }, interval);
      setTimeout(function() {
        clearInterval(timer);
        loader.style.opacity = 0;
        mainContainer.style.opacity = 1;
        if (timeLeft) {
          timeLeft.innerHTML = `<span style="color:#ffe082;background:rgba(0,0,0,0.08);padding:2px 10px;border-radius:8px;">Kész vagyunk!</span> <span style="margin-left:8px;">Az oldal betöltődött, jó böngészést!</span>`;
        }
        // Show big green checkmark overlay
        const checkmark = document.getElementById('checkmark-overlay');
        if (checkmark) {
          checkmark.style.display = 'flex';
          setTimeout(function() {
            checkmark.style.display = 'none';
          }, 2000);
        }
        setTimeout(function() {
          loader.style.display = 'none';
        }, 700);
      }, duration);
    });

    // Színmód váltás
    function setMode(mode) {
      const container = document.getElementById('main-container');
      const modeLoader = document.getElementById('mode-loader');
      modeLoader.style.display = 'flex';
      modeLoader.style.opacity = 1;
      container.classList.add('fade');
      setTimeout(() => {
        if (mode === 'white') {
          document.body.classList.remove('dark-mode');
          document.body.style.background = '#f8f9fa';
          container.style.background = '#fff';
          container.style.color = '#222';
        } else if (mode === 'dark') {
          document.body.classList.add('dark-mode');
          document.body.style.background = '#181a1b';
          container.style.background = '#23272b';
          container.style.color = '#f8f9fa';
        } else {
          document.body.classList.remove('dark-mode');
          document.body.style.background = 'linear-gradient(120deg, #f6d365 0%, #fda085 100%)';
          container.style.background = 'rgba(255,255,255,0.95)';
          container.style.color = '#222';
        }
        container.classList.remove('fade');
        modeLoader.style.opacity = 0;
        setTimeout(() => {
          modeLoader.style.display = 'none';
        }, 700);
      }, 500);
    }
  </script>
</body>
</html>